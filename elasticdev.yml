global_arguments:
   EnvVars:
      METEOR_SETTINGS: '{{ METEOR_SETTINGS }}'
   region: us-east-1
   db_type: mongodb
   sg_db_label: database
   sg_web_label: web
infrastructure:
   vpc:
       stack_name: Cloud/Ec2/VPC/2tier/Database/Web/public
   db:
       stack_name: gary:::public::Cluster/Ubuntu/Ec2/param_db
       dependencies: 
           - infrastructure::vpc
       arguments:
          dbs: 1
          size: t2.nano
          disksize: 10
   dockerhost:
       stack_name: Deploy/Docker/Dev/SingleHost/create
       dependencies: 
           - infrastructure::vpc
       arguments:
          size: t2.medium
          disksize: 57
build:
   nginx-1:
       stack_name: Stacks/CI/General/Dev/main
       repo_url: https://github.com/bill12252016/nginx8087_89-ssl
       repo_branch: master
       triggered_branches:
                 - master
                 - dev1
       arguments:
          DOCKER_FILE_BUILD: configs/build/nginx-ssl/Dockerfile
          DockerProvider: docker.io
          DockerUsername: bill12252016
          DockerRepoType: public
          DockerRepoName: nginx8087_89-ssl
       results:
          EnvVars:
              rename:
                DockerImage: DockerImage_nginx-1
#   nginx-2:
#       stack_name: Stacks/CI/General/Dev/main
#       repo_url: https://github.com/bill12252016/nginx8087_89-ssl
#       repo_branch: master
#       triggered_branches:
#                 - master
#                 - dev2
#       arguments:
#          DOCKER_FILE_BUILD: configs/build/nginx-ssl/Dockerfile
#          DockerProvider: docker.io
#          DockerUsername: bill12252016
#          DockerRepoType: public
#          DockerRepoName: nginx8087_89-ssl
#   nginx-3:
#       stack_name: Stacks/CI/General/Dev/main
#       repo_url: https://github.com/bill12252016/nginx8087_89-ssl
#       repo_branch: master
#       triggered_branches:
#                 - master
#                 - dev3
#       arguments:
#          DOCKER_FILE_BUILD: configs/build/nginx-ssl/Dockerfile
#          DockerProvider: docker.io
#          DockerUsername: bill12252016
#          DockerRepoType: public
#          DockerRepoName: nginx8087_89-ssl
#   nginx-4:
#       stack_name: Stacks/CI/General/Dev/main
#       repo_url: https://github.com/bill12252016/nginx8087_89-ssl
#       repo_branch: master
#       triggered_branches:
#                 - master
#                 - dev4
#       arguments:
#          DOCKER_FILE_BUILD: configs/build/nginx-ssl/Dockerfile
#          DockerProvider: docker.io
#          DockerUsername: bill12252016
#          DockerRepoType: public
#          DockerRepoName: nginx8087_89-ssl
#   nginx-5:
#       stack_name: Stacks/CI/General/Dev/main
#       repo_url: https://github.com/bill12252016/nginx8087_89-ssl
#       repo_branch: master
#       triggered_branches:
#                 - master
#                 - dev5
#       arguments:
#          DOCKER_FILE_BUILD: configs/build/nginx-ssl/Dockerfile
#          DockerProvider: docker.io
#          DockerUsername: bill12252016
#          DockerRepoType: public
#          DockerRepoName: nginx8087_89-ssl
#   leaderboard:
#       stack_name: Stacks/CI/General/Dev/main
#       repo_url: https://github.com/bill12252016/leaderboard
#       repo_branch: dev
#       triggered_branches:
#                 - master
#                 - dev
#       arguments:
#          DOCKER_FILE_BUILD: configs/build/Dockerfile
#          DockerProvider: docker.io
#          DockerUsername: bill12252016
#          DockerRepoType: public
#          DockerRepoName: meteror-todos
#       results:
#           - name: deploy_1
#   triggers:
#       - name: leaderboard
#         type: trigger
#         path: deploy::leaderboard_nginx
#         channels:
#             - deploy_1
#deploy:
#    leaderboard_nginx:
#       stack_name: Stacks/CD/Meteor/React/DeployOnly/main
#       arguments:
#           job_name: deploy
#           DOCKER_DEPLOY_DIR: configs/deploy
#           DOCKER_TEMPLATE_DIR: 
#                 - configs/deploy/docker-compose.ja2
#                 - configs/deploy/app/nginx/sites-available/webapp.ja2
#                 - configs/deploy/app/Dockerfile.ja2
#                 - configs/deploy/Dockerfile.ja2
