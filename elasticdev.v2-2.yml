global_arguments:
   EnvVars:
      METEOR_SETTINGS: '{{ METEOR_SETTINGS }}'
   region: us-east-1
   db_type: mongodb
   sg_db_label: mongodb
   sg_web_label: web
infrastructure:
   vpc:
       stack_name: gary:::public::Cloud/Ec2/VPC/3tier_dbtype
   db:
       stack_name: gary:::public::Cluster/Ubuntu/Ec2/param_db
       dependencies: 
           - infrastructure::vpc
       arguments:
          dbs: 1
          size: t2.micro
   dockerhost:
       stack_name: gary:::public::Deploy/Docker/Dev/SingleHost/create
       dependencies: 
           - infrastructure::vpc
       arguments:
          size: t2.micro
          disksize: 57
build:
   leaderboard:
       stack_name: Stacks/CI/Meteor/React/Dev/main
       repo_url: https://github.com/bill12252016/leaderboard
       repo_branch: dev
       triggered_branches:
                 - master
                 - dev
       arguments:
          AppGroup: gary:::public::Application/Build/Docker/Meteor/default
          DockerProvider: docker.io
          DockerUsername:  bill12252016
          DockerConfigEnv: public
          DockerRepoName: meteror-todos
       results:
           - name: deploy_1
             envar_map: 
                 DockerImage: hrjvesaiea
           - name: slack_1
           - name: email_1
   triggers:
       - name: leaderboard
         type: trigger
         path: deploy::leaderboard
         channels:
             - deploy_1
       - name: developers_slack
         type: slack
         channels:
             - slack_1
         addresses:
           - testchannel
       - name: managers_email
         type: email
         channels:
             - email_1
         addresses:
           - test@elasticdev.io
deploy:
    leaderboard_ngix:
       stack_name: gary:::publlic::docker/meteor
       arguments:
           docker-compose: compose_yaml
